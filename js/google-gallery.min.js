function gallerfy() {
  $(".picflex .box").each(function() {
    var t = $(this).attr("data-imgWidth"),
      e = $(this).attr("data-imgHeight");
    t > e ? $(this).parent().attr("style", "width:" + parseInt(200 * t / e) + "px") : $(this).parent().attr("style", "width:" + parseInt(180 / e * t) + "px"), $(this).attr("data-pos", parseInt($(this).offset().top) - 65)
  })
}
$(function() {
  gallerfy();
  var t = 0;
  $(".picflex .resultitem > .box > a").click(function(e) {
    console.log("opn"), $(this).parent().parent().find(".addToOrder").children().attr("title", $(this).parent().find(".cart-add").attr("title")), $(".picflex .resultitem").removeClass("open"), $(this).parent().parent().addClass("open"), t = $(this).parent().attr("data-pos"), $(window).scrollTop(t), e.preventDefault()
  }), $(".picflex .resultitem").find(".detailNext").click(function() {
    return $(this).parent().parent().find(".addToOrder").children().attr("title", $(this).parent().find(".cart-add").attr("title")), $(this).parent().parent().parent().parent().next().addClass("open").prev().removeClass("open"), t = $(this).parent().parent().parent().parent().next().find(".box").attr("data-pos"), $(window).scrollTop(t), !1
  }), $(".picflex .resultitem").find(".detailPrev").click(function() {
    return $(this).parent().parent().find(".addToOrder").children().attr("title", $(this).parent().find(".cart-add").attr("title")), $(this).parent().parent().parent().parent().prev().addClass("open").next().removeClass("open"), t = $(this).parent().parent().parent().parent().prev().find(".box").attr("data-pos"), $(window).scrollTop(t), !1
  }), $(".picflex .resultitem").find(".detailClose").click(function() {
    return $(".picflex .resultitem").removeClass("open"), !1
  }), $(".open #orderClick").click(function() {
    var t = $(this).parent().parent().parent().parent().parent().find(".iconlinks").children().eq(0).attr("id");
    $("#" + t).trigger("click")
  }), $(".toggleView > span").click(function() {
    $(".toggleView span").removeClass("active");
    var t = $(this).data("view");
    $(this).addClass("active"), "picflex" != t ? $(".viewchange").removeClass("picflex listview").addClass(t).find(".resultitem").removeAttr("style").find(".thumbMeta").toggleClass("col-sm-6 col-sm-12") : ($(".viewchange").removeClass("picflex listview").addClass(t).find(".thumbMeta").toggleClass("col-sm-6 col-sm-12"), gallerfy())
  }), $(".viewchange .resultitem .box").on("mouseenter", function() {
    var t = $(this).parent().find(".thumbnail_popup"),
      a = (t.offset(), $(this).offset()),
      i = $(window).width() / 2,
      r = ($(window).height() - 320) / 2;
    $(this).outerHeight();
    a.left < i ? t.addClass("popposLeft") : a.left > i && t.addClass("popposRight"), a.top < r ? t.removeClass("popposBottom").addClass("popposTop") : a.top > r && t.removeClass("popposTop").addClass("popposBottom"), t.show()
  }).on("mouseleave", function() {
    $(".thumbnail_popup").hide()
  }), $(window).scroll(function() {
    $(this).scrollTop() > 150 ? $('a[href="#top"]').show() : $('a[href="#top"]').hide()
  }), $('a[href="#top"]').click(function() {
    return $(window).animate({
      scrollTop: 0
    }, 800), !1
  }), $.getScript("https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/js/bootstrap-datepicker.js", function() {
    var t = new Date,
      e = new Date(t.getFullYear(), t.getMonth(), t.getDate()),
      a = new Date(t.getFullYear(), t.getMonth(), t.getDate() - 30);
    $("#date-from").datepicker({
      autoclose: !0,
      format: "dd MM yyyy"
    }).datepicker("setDate", a), $("#date-to").datepicker({
      autoclose: !0,
      endDate: new Date,
      format: "dd MM yyyy"
    }).datepicker("setDate", e), $(".icon-arrow-left").addClass("glyphicon glyphicon-chevron-left"), $(".icon-arrow-right").addClass("glyphicon glyphicon-chevron-right")
  })
});
